# Используем официальный образ golang в качестве базового образа
FROM golang:latest

# Создание директории приложения в контейнере
RUN mkdir /app

# Установка рабочей директории
WORKDIR /app

# Копирование исходных файлов приложения в контейнер
COPY . .

# Установка необходимых зависимостей
RUN go mod download

# Сборка приложения
RUN go build -o main .

# Установка переменной окружения
ENV PORT=8080

# Открытие указанного порта
EXPOSE 8080

# Запуск приложения
CMD ["/app/main"]
